ﬁ
ZC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Controllers\CartController.cs
	namespace 	
ShopCart
 
. 
Controllers 
{		 
public

 

class

 
CartController

 
:

  !

Controller

" ,
{ 
private 
readonly 
IBuyRepository '
_buyRepository( 6
;6 7
public 
CartController 
( 
IBuyRepository ,
buyRepository- :
): ;
{ 	
buyRepository 
= 
_buyRepository *
;* +
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
var 
cart 
= 
SessionHelper $
.$ %
GetObjectFromJson% 6
<6 7
List7 ;
<; <
Producto< D
>D E
>E F
(F G
HttpContextG R
.R S
SessionS Z
,Z [
$str\ b
)b c
;c d
ViewBag 
. 
cart 
= 
cart 
;  
ViewBag 
. 
total 
= 
cart  
.  !
Sum! $
($ %
item% )
=>* ,
item- 1
.1 2
FnProdPrecio2 >
)> ?
;? @
return 
View 
( 
) 
; 
} 	
} 
} ı
ZC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Controllers\HomeController.cs
	namespace 	
ShopCart
 
. 
Controllers 
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
private		 
readonly		 
ILogger		  
<		  !
HomeController		! /
>		/ 0
_logger		1 8
;		8 9
private

 
readonly

 
IShopRepository

 (
_shopRepository

) 8
;

8 9
public 
HomeController 
( 
ILogger %
<% &
HomeController& 4
>4 5
logger6 <
,< =
IShopRepository> M
shopRepositoryN \
)\ ]
{ 	
_logger 
= 
logger 
; 
_shopRepository 
= 
shopRepository ,
;, -
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
_shopRepository '
.' (
getProductos( 4
(4 5
)5 6
)6 7
;7 8
} 	
public "
RedirectToActionResult %
	AddToCart& /
(/ 0
string0 6
id7 9
,9 :
string; A
	returnUrlB K
)K L
{ 	
string 
emp 
= 
string 
.  
Empty  %
;% &
return   
RedirectToAction   #
(  # $
$str  $ +
,  + ,
new  - 0
{  1 2
	returnUrl  3 <
}  = >
)  > ?
;  ? @
}!! 	
}// 
}00 •b
ZC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\DbContexts\CoppelMxContext.cs
	namespace 	
ShopCart
 
. 

DbContexts 
{ 
public 

partial 
class 
CoppelMxContext (
:) *
	DbContext+ 4
{		 
public

 
CoppelMxContext

 
(

 
)

  
{ 	
} 	
public 
CoppelMxContext 
( 
DbContextOptions /
</ 0
CoppelMxContext0 ?
>? @
optionsA H
)H I
: 
base 
( 
options 
) 
{ 	
} 	
public 
virtual 
DbSet 
< 
DetallePedido *
>* +
DetallePedidos, :
{; <
get= @
;@ A
setB E
;E F
}G H
public 
virtual 
DbSet 
< 

Inventario '
>' (
Inventarios) 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
virtual 
DbSet 
< 
Pedido #
># $
Pedidos% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
DbSet 
< 
Producto %
>% &
	Productos' 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
	protected!! 
override!! 
void!! 
OnModelCreating!!  /
(!!/ 0
ModelBuilder!!0 <
modelBuilder!!= I
)!!I J
{"" 	
modelBuilder## 
.## 
HasAnnotation## &
(##& '
$str##' =
,##= >
$str##? ]
)##] ^
;##^ _
modelBuilder%% 
.%% 
Entity%% 
<%%  
DetallePedido%%  -
>%%- .
(%%. /
entity%%/ 5
=>%%6 8
{&& 
entity'' 
.'' 
HasKey'' 
('' 
e'' 
=>''  "
new''# &
{''' (
e'') *
.''* +

FiNoPedido''+ 5
,''5 6
e''7 8
.''8 9
FiProdId''9 A
}''B C
)''C D
.(( 
HasName(( 
((( 
$str(( /
)((/ 0
.)) 
IsClustered))  
())  !
false))! &
)))& '
;))' (
entity++ 
.++ 
ToTable++ 
(++ 
$str++ /
)++/ 0
;++0 1
entity-- 
.-- 
Property-- 
(--  
e--  !
=>--" $
e--% &
.--& '

FiNoPedido--' 1
)--1 2
.--2 3
HasColumnName--3 @
(--@ A
$str--A M
)--M N
;--N O
entity// 
.// 
Property// 
(//  
e//  !
=>//" $
e//% &
.//& '
FiProdId//' /
)/// 0
.//0 1
HasColumnName//1 >
(//> ?
$str//? I
)//I J
;//J K
entity11 
.11 
Property11 
(11  
e11  !
=>11" $
e11% &
.11& '
	FiCantArt11' 0
)110 1
.111 2
HasColumnName112 ?
(11? @
$str11@ K
)11K L
;11L M
entity33 
.33 
Property33 
(33  
e33  !
=>33" $
e33% &
.33& '
FnCostoPdcto33' 3
)333 4
.44 
HasColumnType44 "
(44" #
$str44# 2
)442 3
.55 
HasColumnName55 "
(55" #
$str55# 1
)551 2
;552 3
}BB 
)BB 
;BB 
modelBuilderDD 
.DD 
EntityDD 
<DD  

InventarioDD  *
>DD* +
(DD+ ,
entityDD, 2
=>DD3 5
{EE 
entityFF 
.FF 
HasNoKeyFF 
(FF  
)FF  !
;FF! "
entityHH 
.HH 
ToTableHH 
(HH 
$strHH +
)HH+ ,
;HH, -
entityJJ 
.JJ 
PropertyJJ 
(JJ  
eJJ  !
=>JJ" $
eJJ% &
.JJ& '

FiInvExistJJ' 1
)JJ1 2
.JJ2 3
HasColumnNameJJ3 @
(JJ@ A
$strJJA M
)JJM N
;JJN O
entityLL 
.LL 
PropertyLL 
(LL  
eLL  !
=>LL" $
eLL% &
.LL& '
FiProdIdLL' /
)LL/ 0
.LL0 1
HasColumnNameLL1 >
(LL> ?
$strLL? I
)LLI J
;LLJ K
}MM 
)MM 
;MM 
modelBuilderOO 
.OO 
EntityOO 
<OO  
PedidoOO  &
>OO& '
(OO' (
entityOO( .
=>OO/ 1
{PP 
entityQQ 
.QQ 
HasKeyQQ 
(QQ 
eQQ 
=>QQ  "
eQQ# $
.QQ$ %

FiNoPedidoQQ% /
)QQ/ 0
.RR 
HasNameRR 
(RR 
$strRR (
)RR( )
;RR) *
entityTT 
.TT 
ToTableTT 
(TT 
$strTT '
)TT' (
;TT( )
entityVV 
.VV 
PropertyVV 
(VV  
eVV  !
=>VV" $
eVV% &
.VV& '

FiNoPedidoVV' 1
)VV1 2
.WW 
ValueGeneratedNeverWW (
(WW( )
)WW) *
.XX 
HasColumnNameXX "
(XX" #
$strXX# /
)XX/ 0
;XX0 1
entityZZ 
.ZZ 
PropertyZZ 
(ZZ  
eZZ  !
=>ZZ" $
eZZ% &
.ZZ& '
FcUserIdZZ' /
)ZZ/ 0
.[[ 

IsRequired[[ 
([[  
)[[  !
.\\ 
HasMaxLength\\ !
(\\! "
$num\\" $
)\\$ %
.]] 
	IsUnicode]] 
(]] 
false]] $
)]]$ %
.^^ 
HasColumnName^^ "
(^^" #
$str^^# -
)^^- .
.__ 
IsFixedLength__ "
(__" #
true__# '
)__' (
;__( )
entityaa 
.aa 
Propertyaa 
(aa  
eaa  !
=>aa" $
eaa% &
.aa& '
FcWsaa' +
)aa+ ,
.bb 

IsRequiredbb 
(bb  
)bb  !
.cc 
HasMaxLengthcc !
(cc! "
$numcc" $
)cc$ %
.dd 
	IsUnicodedd 
(dd 
falsedd $
)dd$ %
.ee 
HasColumnNameee "
(ee" #
$stree# )
)ee) *
.ff 
IsFixedLengthff "
(ff" #
trueff# '
)ff' (
;ff( )
entityhh 
.hh 
Propertyhh 
(hh  
ehh  !
=>hh" $
ehh% &
.hh& '
	FdFecSurthh' 0
)hh0 1
.ii 
HasColumnTypeii "
(ii" #
$strii# 2
)ii2 3
.jj 
HasColumnNamejj "
(jj" #
$strjj# .
)jj. /
;jj/ 0
entityll 
.ll 
Propertyll 
(ll  
ell  !
=>ll" $
ell% &
.ll& '
FdPedFecll' /
)ll/ 0
.mm 
HasColumnTypemm "
(mm" #
$strmm# 2
)mm2 3
.nn 
HasColumnNamenn "
(nn" #
$strnn# -
)nn- .
;nn. /
entitypp 
.pp 
Propertypp 
(pp  
epp  !
=>pp" $
epp% &
.pp& '
	FiPedStatpp' 0
)pp0 1
.pp1 2
HasColumnNamepp2 ?
(pp? @
$strpp@ K
)ppK L
;ppL M
entityrr 
.rr 
Propertyrr 
(rr  
err  !
=>rr" $
err% &
.rr& '

FnPedSaldorr' 1
)rr1 2
.ss 
HasColumnTypess "
(ss" #
$strss# 3
)ss3 4
.tt 
HasColumnNamett "
(tt" #
$strtt# /
)tt/ 0
;tt0 1
entityvv 
.vv 
Propertyvv 
(vv  
evv  !
=>vv" $
evv% &
.vv& '

FnPedTotalvv' 1
)vv1 2
.ww 
HasColumnTypeww "
(ww" #
$strww# 3
)ww3 4
.xx 
HasColumnNamexx "
(xx" #
$strxx# /
)xx/ 0
;xx0 1
}yy 
)yy 
;yy 
modelBuilder{{ 
.{{ 
Entity{{ 
<{{  
Producto{{  (
>{{( )
({{) *
entity{{* 0
=>{{1 3
{|| 
entity}} 
.}} 
HasKey}} 
(}} 
e}} 
=>}}  "
e}}# $
.}}$ %
FiProdId}}% -
)}}- .
.~~ 
HasName~~ 
(~~ 
$str~~ 5
)~~5 6
;~~6 7
entity
ÄÄ 
.
ÄÄ 
ToTable
ÄÄ 
(
ÄÄ 
$str
ÄÄ )
)
ÄÄ) *
;
ÄÄ* +
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ  
e
ÇÇ  !
=>
ÇÇ" $
e
ÇÇ% &
.
ÇÇ& '
FiProdId
ÇÇ' /
)
ÇÇ/ 0
.
ÉÉ !
ValueGeneratedNever
ÉÉ (
(
ÉÉ( )
)
ÉÉ) *
.
ÑÑ 
HasColumnName
ÑÑ "
(
ÑÑ" #
$str
ÑÑ# -
)
ÑÑ- .
;
ÑÑ. /
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ  
e
ÜÜ  !
=>
ÜÜ" $
e
ÜÜ% &
.
ÜÜ& '

FcProdDesc
ÜÜ' 1
)
ÜÜ1 2
.
áá 
HasMaxLength
áá !
(
áá! "
$num
áá" $
)
áá$ %
.
àà 
	IsUnicode
àà 
(
àà 
false
àà $
)
àà$ %
.
ââ 
HasColumnName
ââ "
(
ââ" #
$str
ââ# /
)
ââ/ 0
.
ää 
IsFixedLength
ää "
(
ää" #
true
ää# '
)
ää' (
;
ää( )
entity
åå 
.
åå 
Property
åå 
(
åå  
e
åå  !
=>
åå" $
e
åå% &
.
åå& '
FiClase
åå' .
)
åå. /
.
åå/ 0
HasColumnName
åå0 =
(
åå= >
$str
åå> G
)
ååG H
;
ååH I
entity
éé 
.
éé 
Property
éé 
(
éé  
e
éé  !
=>
éé" $
e
éé% &
.
éé& '
FiDepto
éé' .
)
éé. /
.
éé/ 0
HasColumnName
éé0 =
(
éé= >
$str
éé> G
)
ééG H
;
ééH I
entity
êê 
.
êê 
Property
êê 
(
êê  
e
êê  !
=>
êê" $
e
êê% &
.
êê& '

FiSubClase
êê' 1
)
êê1 2
.
êê2 3
HasColumnName
êê3 @
(
êê@ A
$str
êêA M
)
êêM N
;
êêN O
entity
íí 
.
íí 
Property
íí 
(
íí  
e
íí  !
=>
íí" $
e
íí% &
.
íí& '

FiSubDepto
íí' 1
)
íí1 2
.
íí2 3
HasColumnName
íí3 @
(
íí@ A
$str
ííA M
)
ííM N
;
ííN O
entity
îî 
.
îî 
Property
îî 
(
îî  
e
îî  !
=>
îî" $
e
îî% &
.
îî& '
FnProdPrecio
îî' 3
)
îî3 4
.
ïï 
HasColumnType
ïï "
(
ïï" #
$str
ïï# 2
)
ïï2 3
.
ññ 
HasColumnName
ññ "
(
ññ" #
$str
ññ# 1
)
ññ1 2
;
ññ2 3
}
óó 
)
óó 
;
óó $
OnModelCreatingPartial
ôô "
(
ôô" #
modelBuilder
ôô# /
)
ôô/ 0
;
ôô0 1
}
öö 	
partial
úú 
void
úú $
OnModelCreatingPartial
úú +
(
úú+ ,
ModelBuilder
úú, 8
modelBuilder
úú9 E
)
úúE F
;
úúF G
}
ùù 
}ûû •
UC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Helpers\SessionHelper.cs
	namespace 	
ShopCart
 
. 
Helpers 
{ 
public 

static 
class 
SessionHelper %
{ 
public 
static 
void 
SetObjectAsJson *
(* +
this+ /
ISession0 8
session9 @
,@ A
stringB H
keyI L
,L M
objectN T
valueU Z
)Z [
{		 	
session

 
.

 
	SetString

 
(

 
key

 !
,

! "
JsonConvert

# .
.

. /
SerializeObject

/ >
(

> ?
value

? D
)

D E
)

E F
;

F G
} 	
public 
static 
T 
GetObjectFromJson )
<) *
T* +
>+ ,
(, -
this- 1
ISession2 :
session; B
,B C
stringD J
keyK N
)N O
{ 	
var 
value 
= 
session 
.  
	GetString  )
() *
key* -
)- .
;. /
return 
value 
== 
null  
?! "
default# *
(* +
T+ ,
), -
:. /
JsonConvert0 ;
.; <
DeserializeObject< M
<M N
TN O
>O P
(P Q
valueQ V
)V W
;W X
} 	
} 
} §
TC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Models\DetallePedido.cs
	namespace 	
ShopCart
 
. 
Models 
{ 
public 

partial 
class 
DetallePedido &
{ 
public 
int 

FiNoPedido 
{ 
get  #
;# $
set% (
;( )
}* +
public		 
int		 
FiProdId		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
short

 
	FiCantArt

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
decimal 
FnCostoPdcto #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ´
bC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Models\DetallePedidoForCreationDTO.cs
	namespace 	
ShopCart
 
. 
Models 
{ 
public 

class '
DetallePedidoForCreationDTO ,
{ 
public 
int 

FiNoPedido 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
FiProdId 
{ 
get !
;! "
set# &
;& '
}( )
public 
short 
	FiCantArt 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
decimal 
FnCostoPdcto #
{$ %
get& )
;) *
set+ .
;. /
}0 1
}		 
}

 
QC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Models\Inventario.cs
	namespace 	
ShopCart
 
. 
Models 
{ 
public 

partial 
class 

Inventario #
{ 
public 
int 
FiProdId 
{ 
get !
;! "
set# &
;& '
}( )
public		 
int		 
?		 

FiInvExist		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
}

 
} «
MC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Models\Pedido.cs
	namespace 	
ShopCart
 
. 
Models 
{ 
public		 

partial		 
class		 
Pedido		 
{

 
public 
Pedido 
( 
) 
{ 	
DetallePedidos 
= 
new  
HashSet! (
<( )
DetallePedido) 6
>6 7
(7 8
)8 9
;9 :
} 	
public 
int 

FiNoPedido 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
? 
FdPedFec !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
decimal 

FnPedTotal !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
byte 
? 
	FiPedStat 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
FcUserId 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
FcWs 
{ 
get  
;  !
set" %
;% &
}' (
public 
DateTime 
? 
	FdFecSurt "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
decimal 

FnPedSaldo !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
virtual 
ICollection "
<" #
DetallePedido# 0
>0 1
DetallePedidos2 @
{A B
getC F
;F G
setH K
;K L
}M N
} 
} ¨
[C:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Models\PedidoForCreationDTO.cs
	namespace 	
ShopCart
 
. 
Models 
{ 
public 

class  
PedidoForCreationDTO %
{ 
} 
} ƒ
OC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Models\Producto.cs
	namespace 	
ShopCart
 
. 
Models 
{ 
public 

partial 
class 
Producto !
{		 
public

 
Producto

 
(

 
)

 
{ 	
DetallePedidos 
= 
new  
HashSet! (
<( )
DetallePedido) 6
>6 7
(7 8
)8 9
;9 :
} 	
public 
int 
FiProdId 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 

FcProdDesc  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
decimal 
? 
FnProdPrecio $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
int 
? 
FiDepto 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
? 

FiSubDepto 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
? 
FiClase 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
? 

FiSubClase 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
virtual 
ICollection "
<" #
DetallePedido# 0
>0 1
DetallePedidos2 @
{A B
getC F
;F G
setH K
;K L
}M N
} 
} ˚
]C:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Profiles\DetallePedidoProfile.cs
	namespace 	
ShopCart
 
. 
Profiles 
{ 
public 

class  
DetallePedidoProfile %
:& '
Profile( /
{ 
public		  
DetallePedidoProfile		 #
(		# $
)		$ %
{

 	
	CreateMap 
< 
DetallePedido #
,# $'
DetallePedidoForCreationDTO% @
>@ A
(A B
)B C
;C D
} 	
} 
} ÿ
VC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Profiles\PedidoProfile.cs
	namespace 	
ShopCart
 
. 
Profiles 
{ 
public 

class 
PedidoProfile 
:  
Profile! (
{ 
public 
PedidoProfile 
( 
) 
{		 	
	CreateMap

 
<

 
Pedido

 
,

  
PedidoForCreationDTO

 2
>

2 3
(

3 4
)

4 5
;

5 6
} 	
} 
} ù

GC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Program.cs
	namespace

 	
ShopCart


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ®
WC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Services\IBuyRepository.cs
	namespace 	
ShopCart
 
. 
Services 
{ 
public 

	interface 
IBuyRepository #
{ 
} 
} æ
XC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Services\IShopRepository.cs
	namespace 	
ShopCart
 
. 
Services 
{ 
public 

	interface 
IShopRepository $
{ 
IEnumerable		 
<		 
Producto		 
>		 
getProductos		 *
(		* +
)		+ ,
;		, -
}

 
} ì

WC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Services\ShopRepository.cs
	namespace 	
ShopCart
 
. 
Services 
{		 
public

 

class

 
ShopRepository

 
:

  !
IShopRepository

" 1
{ 
private 
readonly 
CoppelMxContext (
_CoppelMxcontext) 9
;9 :
public 
ShopRepository 
( 
CoppelMxContext -
CoppelMxcontext. =
)= >
{ 	
_CoppelMxcontext 
= 
CoppelMxcontext .
;. /
} 	
public 
IEnumerable 
< 
Producto #
># $
getProductos% 1
(1 2
)2 3
{ 	
return 
_CoppelMxcontext #
.# $
	Productos$ -
. 
Take 
( 
$num 
) 
. 
OrderByDescending "
(" #
x# $
=>% '
x( )
.) *
FiProdId* 2
)2 3
.3 4
ToList4 :
(: ;
); <
;< =
} 	
} 
} Å
GC:\Users\whasa\Documents\Projects\NetCore5\ShopCart\ShopCart\Startup.cs
	namespace 	
ShopCart
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddAutoMapper "
(" #
	AppDomain# ,
., -
CurrentDomain- :
.: ;
GetAssemblies; H
(H I
)I J
)J K
;K L
services 
. 
	AddScoped 
< 
IShopRepository .
,. /
ShopRepository0 >
>> ?
(? @
)@ A
;A B
services 
. 
AddDbContext !
<! "
CoppelMxContext" 1
>1 2
(2 3
options3 :
=>; =
options> E
.E F
UseSqlServerF R
(R S
ConfigurationS `
.` a
GetConnectionStringa t
(t u
$stru ~
)~ 
)	 Ä
)
Ä Å
;
Å Ç
services 
. #
AddControllersWithViews ,
(, -
)- .
;. /
} 	
public   
void   
	Configure   
(   
IApplicationBuilder   1
app  2 5
,  5 6
IWebHostEnvironment  7 J
env  K N
)  N O
{!! 	
if"" 
("" 
env"" 
."" 
IsDevelopment"" !
(""! "
)""" #
)""# $
{## 
app$$ 
.$$ %
UseDeveloperExceptionPage$$ -
($$- .
)$$. /
;$$/ 0
}%% 
else&& 
{'' 
app(( 
.(( 
UseExceptionHandler(( '
(((' (
$str((( 5
)((5 6
;((6 7
})) 
app** 
.** 
UseStaticFiles** 
(** 
)**  
;**  !
app,, 
.,, 

UseRouting,, 
(,, 
),, 
;,, 
app.. 
... 
UseAuthorization..  
(..  !
)..! "
;.." #
app00 
.00 
UseEndpoints00 
(00 
	endpoints00 &
=>00' )
{11 
	endpoints22 
.22 
MapControllerRoute22 ,
(22, -
name33 
:33 
$str33 #
,33# $
pattern44 
:44 
$str44 E
)44E F
;44F G
}55 
)55 
;55 
}66 	
}77 
}88 